<div class="profile-container" *ngIf="userData">
  <div class="profile-header">
    <h2 class="profile-heading">Welcome, {{ userData.displayName }}</h2>
    <p class="profile-email">Email: {{ userData.email }}</p>
  </div>
  <div class="profile-picture-container" *ngIf="userData.photoURL">
    <img class="profile-picture" [src]="userData.photoURL" alt="Profile Picture">
  </div>
</div>

<div class="profile-details" *ngIf="userDetails">
  <h3 class="details-heading">Additional Details</h3>
  <div class="details-grid">
    <div class="detail-item" *ngIf="formData.userType !== 'teacher'">
      <span class="detail-key">School Year:</span>
      <span class="detail-value">{{ userDetails.schoolYear }}</span>
    </div>
    <div class="detail-item" *ngIf="formData.userType === 'teacher'">
      <span class="detail-key">Subjects Taught:</span>
      <span class="detail-value">{{ userDetails.subjectsTaught }}</span>
    </div>
    <div class="detail-item" *ngIf="formData.userType === 'teacher'">
      <span class="detail-key">Cabinet Name:</span>
      <span class="detail-value">{{ userDetails.cabinetName }}</span>
    </div>
    <div class="detail-item">
      <span class="detail-key">School:</span>
      <span class="detail-value">{{ userDetails.school }}</span>
    </div>
    <div class="detail-item">
      <span class="detail-key">Field of Study:</span>
      <span class="detail-value">{{ userDetails.fieldOfStudy }}</span>
    </div>
    <div class="detail-item">
      <span class="detail-key">Role:</span>
      <span class="detail-value">{{ userDetails.role }}</span>
    </div>
  </div>
</div>

<div class="profile-edit" *ngIf="userData">
  <h3 class="edit-heading">Edit Your Information</h3>
  <form (ngSubmit)="saveUserDetails($event)">
    <div class="form-group">
      <label for="userType">User Type</label>
      <select id="userType" [(ngModel)]="formData.userType" name="userType">
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
        <option value="ex-student">Ex-Student</option>
      </select>
    </div>
    <div class="form-group" *ngIf="formData.userType !== 'teacher'">
      <label for="schoolYear">School Year</label>
      <input type="text" id="schoolYear" [(ngModel)]="formData.schoolYear" name="schoolYear">
    </div>
    <div class="form-group" *ngIf="formData.userType === 'teacher'">
      <label for="subjectsTaught">Subjects Taught</label>
      <input type="text" id="subjectsTaught" [(ngModel)]="formData.subjectsTaught" name="subjectsTaught">
    </div>
    <div class="form-group" *ngIf="formData.userType === 'teacher'">
      <label for="cabinetName">Cabinet Name</label>
      <input type="text" id="cabinetName" [(ngModel)]="formData.cabinetName" name="cabinetName">
    </div>
    <div class="form-group">
      <label for="school">School</label>
      <select id="school" [(ngModel)]="formData.school" name="school">
        <option value="SPSIT">SPSIT</option>
        <option value="GKNM">GKNM</option>
        <option value="GCA">GCA</option>
        <option value="GYMB">GYMB</option>
      </select>
    </div>
    <div class="form-group">
      <label for="fieldOfStudy">Field of Study</label>
      <input type="text" id="fieldOfStudy" [(ngModel)]="formData.fieldOfStudy" name="fieldOfStudy">
    </div>
    <div class="form-group">
      <label for="role">Role</label>
      <select id="role" [(ngModel)]="formData.role" name="role">
        <option value="admin">Admin</option>
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
  </form>
</div>
